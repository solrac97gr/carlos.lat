---
title: "Mi plantilla para proyectos en 2023 usando Go (Fiber y MongoDB) ğŸ‘¨ğŸ½â€ğŸ’»"
date: "10 de Noviembre del 2022"
published: "2022-11-10"
abstract: "âœ… ConocÃ© como organizo mis proyectos en Go para escalar a nivel empresarial"
image: "https://cdn.filestackcontent.com/p5fN19Qi7ctgFewfHFwi"
tag: "Go, Fiber"
author: "Carlos GarcÃ­a"
---

# Mi plantilla para proyectos en 2023 usando Go (Fiber y MongoDB) ğŸ‘¨ğŸ½â€ğŸ’»

<small>10 de Noviembre del 2022</small>
<EditPost path="plantilla-proyecto-2023" />

<img
  width="100%"
  alt="golang wallpaper"
  src="https://cdn.filestackcontent.com/p5fN19Qi7ctgFewfHFwi"
  style={{ borderRadius: "8px" }}
></img>

Ya estamos cerca al final del 2022 y esto quiere decir es un aÃ±o mÃ¡s en el que trabaje como desarrollador Golang full time, dentro de este aÃ±o de trabajo descubrÃ­ nuevas herramientas que te ayudan en el flujo de desarrollo y la documentaciÃ³n como tambien una nueva forma de organizar mis proyectos de manera que escalen de forma saludable.

## El Stack ğŸ§±

Haremos un mini recorrido a las herramientas que le dan vida a esta plantilla y sabremos porque las uso actulamente.

- **El enrutador** ğŸš€: Para el enrutador escogÃ­ usar **Fiber** debido a las multiples herramientas que tiene desarralladas internamente en el framework y porque me parece que la declaracion de rutas es mucho mÃ¡s intuitiva.

- **La base de datos** ğŸ’¾: Para el almacenamiento de datos escogÃ­ a **MongoDB** por su facÃ­l despliegue y mÃ¡s que todo por que la mayorÃ­a de proyectos que desarrolle en 2022 y 2021 me pidieron usar esta base de datos.

- **La documentaciÃ³n** ğŸ“„: Una de las partes mÃ¡s importantes cuando desarrollas un proyecto en el ambito profesional es la documentaciÃ³n recuerda que trabajaras con mÃ¡s desarrolladores. Para esto usaremos **Swag** un paquete de Go que nos permite generar la documentaciÃ³n en base a comentarios.

- **Los logs** âš¡ï¸: En cuanto a los logs es una combiancion entre una herramienta desarrollada en el proyecto que me permite tener logs en un archivo de CSV y para los Logs en el servidor uso **Zap**

- **Los tests** ğŸ’€: En los test use la librerÃ­a nativa de Go en combinaciÃ³n de la libreÃ­a de mocks `gomock` para generar mocks automaticamente a partir de mis interfaces.

- **Los contenedores** ğŸ³: Para el despligue en contenedores por ahora sigo usando **Docker**, estoy explorando nuevas opciones, si tienes alguna recomendaciÃ³n dejala en los comentarios.

- **El despliegue** ğŸ™: Para el CI estoy totalmente enamorado de Github actions y de su potencial, me decante por **Github Actions** por la facilidad de integraciÃ³n con tu repositorio.

## La estructura de archivos ğŸ“‚

Tenemos una combinaciÃ³n entre el famoso repositorio de <BlogLink url="https://github.com/golang-standards/project-layout" content="Go Standart Layout"/> que es un "Estandar" no oficial y la estructura de los paquetes viene de la estructura de carpetas de la Arquitectura Hexagonal.

Dentro de los paquetes podemos apreciar dentro de la carpeta **internal/user** que tenemos 3 carpetas **application, domain e infrastructure.** Para mantener las funcionalidades lo mÃ¡s faciles de entender posible tengo archivos separados para cada una de las funcionalidades.

Deje este proyecto como plantilla en Github en caso quieran verlo mÃ¡s a detalle y como ejemplo implemente todo el sistema de login y de autenticaciÃ³n usando JWT.

<BlogLink url="https://github.com/solrac97gr/go-jwt-auth" content="Ver proyecto."/>

<FolderStructure
  tree={[
    {   
        type:"folder",
        name:".github",
        content:[
            {
                type:"folder",
                name:"workflows",
                content:[
                    {
                        type:"file",
                        name:"CI.yaml"
                    }
                ]
            }
        ]
    },
    {
      type: "folder",
      name: "cmd",
      content: [
        {
          type: "folder",
          name: "http",
          content:[
            {
                type:"file",
                name:"main.go"
            }
          ]
        },
      ],
    },
    {
        type:"folder",
        name:"config",
        content:[
            {
                type:"file",
                name:"env.json"
            }
        ]
    },
    {
        type:"folder",
        name:"deploy",
        content:[
            {
                type:"file",
                name:"dockerfile"
            }
        ]
    },
    {
        type:"folder",
        name:"docs",
        content:[
            {
                type:"file",
                name:"docs.go"
            },
            {
                type:"file",
                name:"swagger.json"
            },
            {
                type:"file",
                name:"swagger.yaml"
            }
        ]
    },
    {
        type:"folder",
        name:"hooks",
        content:[
            {
                type:"file",
                name:"pre-commit.sh"
            }
        ]
    },
    {
      type: "folder",
      name: "internal",
      content: [
       {
        type:"folder",
        name:"user",
        content:[
            {
                type:"folder",
                name: "application",
                content:[
                    {
                        type:"file",
                        name: "application.go",
                    },
                    {
                        type:"file",
                        name:"create_user.go"
                    },
                    {
                        type:"file",
                        name:"create_user_test.go"
                    },
                ]
            },
            {
                type:"folder",
                name:"domain",
                content:[
                    {
                        type:"folder",
                        name:"models",
                        content:[
                            {
                                type:"file",
                                name:"user.go"
                            },
                        ]
                    },
                    {
                        type:"folder",
                        name:"ports",
                        content:[
                            {
                                type:"file",
                                name:"user_application.go"
                            },
                            {
                                type:"file",
                                name:"user_handlers.go"
                            },
                            {
                                type:"file",
                                name:"user_repository.go"
                            },
                        ]
                    }
                ]
            },
            {
                type:"folder",
                name:"infrastructure",
                content:[
                    {
                        type:"folder",
                        name:"handlers",
                        content:[
                            {
                                type:"file",
                                name:"fiber.go",
                            },
                            {
                                type:"file",
                                name:"create_user.go"
                            },
                            {
                                type:"file",
                                name:"create_user_test.go"
                            }

                        ]
                    },
                    {
                        type:"folder",
                        name:"repositories",
                        content:[
                            {
                                type:"file",
                                name:"mongo.go",
                            },
                            {
                                type:"file",
                                name:"create_user.go"
                            },
                            {
                                type:"file",
                                name:"create_user_test.go"
                            }
                        ]
                    }
                ]
            }
        ]
       },
      ],
    },
    {
        type:"folder",
        name:"logs",
        content:[
            {
                type:"file",
                name:"log-2023-01-01.csv"
            }
        ]
    },
    {
        type:"folder",
        name:"pkg",
        content:[
            {
                type:"folder",
                name:"middleware",
                content:[
                    {
                        type:"folder",
                        name:"application",
                        content:[
                            {
                                type:"file",
                                name:"middleware.go"
                            },
                            {
                                type:"file",
                                name:"authenticate.go"
                            },
                        ]
                    },
                    {
                        type:"folder",
                        name:"domain",
                        content:[
                            {
                                type:"file",
                                name:"request.go"
                            },
                            {
                                type:"file",
                                name:"ports.go"
                            }
                        ]

                    },
                    {
                        type:"folder",
                        name:"infrastructure"
                    }

                ]
            },
        ]
    },
    {
        type:"folder",
        name:"scripts",
        content:[
            {
                type:"file",
                name:"build.sh",
            },
            {
                type:"file",
                name:"generate-mocks.sh"
            }
        ]
    },
    {
        type:"file",
        name:".gitignore"
    },
    {
      type: "file",
      name: "go.mod",
    },
    {
      type: "file",
      name: "go.sum",
    },
    {
        type:"file",
        name:"main.go"
    },
    {
        type:"file",
        name:"README.md"
    }
  ]}
/>

## Conclusiones ğŸ¤”

Cada aÃ±o mejoras como desarrollador a nivel exponenciale si constantemente estas empezando nuevos proyectos, te ayuda a pensar: Â¿QuÃ© hubiese hecho diferente al empezar este proyecto? Â¿QuÃ© herrammienta hubiese usado en cambio de esta otra? y aplicarlas vas iterando poco a poco hasta encontrar tu "template" perfecto para empezar un proyecto. Por ahora esta es la mÃ­a y espero que les sea de ayuda para que puedan crear la suya segun sus necesidades.

